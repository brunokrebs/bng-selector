!function(){var t=angular.module("bng-selector",[]),e=function(t,e,n){function l(){s.addEventListener("keydown",r),s.addEventListener("blur",o),c.addEventListener("blur",function(){e(function(){o()},150)}),i.showFilter=!0}function o(t){s.removeEventListener("keydown",r),c.removeEventListener("keydown",r),i.showFilter=!1,i.term="",n.$apply()}function r(t){27==t.keyCode&&o()}var i=this,s=t[0],c=s.querySelector(".bng-selector-filter-input");i.toggleFilter=function(t){t&&t.stopPropagation(),i.showFilter?o():(l(),e(function(){c.focus()},100))},i.suggest=function(){if(term=i.term.trim().toLowerCase(),""==term)return i.filteredOptions=i.options;i.filteredOptions=[];for(var t=0;t<i.options.length;t++){var e=i.options[t];e.label.toLowerCase().indexOf(term)!==-1&&i.filteredOptions.push(e)}return i.filteredOptions},i.select=function(t){i.showFilter=!1,i.selected=t,i.onSelect({option:t})},i.clear=function(t){i.selected=null,i.term="",i.filteredOptions=i.options,i.showFilter=!1,i.onUnselect(),t&&t.stopPropagation()},i.clear()};e.$inject=["$element","$timeout","$scope"],t.component("bngSelector",{bindings:{onSelect:"&",onUnselect:"&",options:"<"},templateUrl:"bng-selector.html",controller:e})}(),angular.module("bng-selector").run(["$templateCache",function(t){t.put("bng-selector.html",'<div class="bng-selector">\n\t<div class="bng-selector-selected" ng-click="$ctrl.toggleFilter($event)">\n\t\t{{$ctrl.selected.label}}\n\t\t<i class="fa fa-caret-down" ng-show="! $ctrl.showFilter"></i>\n\t\t<i class="fa fa-caret-up" ng-show="$ctrl.showFilter"></i>\n\t\t<i class="fa fa-times" ng-show="$ctrl.selected"\n\t\t   ng-click="$ctrl.clear($event)"></i>\n\t</div>\n\t<div class="bng-selector-filter" ng-show="$ctrl.showFilter">\n\t\t<div class="bng-selector-filter-area">\n\t\t\t<input class="bng-selector-filter-input" type="text"\n\t\t\t\t   ng-change="$ctrl.suggest()"\n\t\t\t\t   ng-model="$ctrl.term">\n\t\t\t<ul>\n\t\t\t\t<li ng-repeat="opt in $ctrl.filteredOptions"\n\t\t\t\t\tng-click="$ctrl.select(opt)">\n\t\t\t\t\t{{opt.label}}\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</div>')}]);