!function(){var t=angular.module("bng-selector",[]),e=27,l=function(t,l,n,c){function s(t){if(!o(t))return!1;for(var e=t.parentNode;o(e);){if(e==u)return!0;e=e.parentElement}return!1}function o(t){return(" "+t.className+" ").indexOf(" bng-selector-mhc ")>-1}function r(){g.addEventListener("keydown",a),d.showFilter=!0}function i(t){g.removeEventListener("keydown",a),d.showFilter=!1,d.term="",d.filteredOptions=d.options,t||n.$apply()}function a(t){t.keyCode==e&&i()}var d=this,g=t[0],u=g.firstChild,b=g.querySelector(".bng-selector-filter-input");c.addEventListener("click",function(t){d.showFilter&&(s(t.target)||i())}),d.showFilter=!1,d.term="",d.filteredOptions=d.options,d.selectedItems=[],d.selectAllLabel||(d.selectAllLabel="Select all"),d.clearAllLabel||(d.clearAllLabel="Clear selection"),d.toggleFilter=function(t){d.disabled||(t&&t.stopPropagation(),d.showFilter?i(!0):(r(),l(function(){b.focus()},100)))},d.suggest=function(){if(term=d.term.trim().toLowerCase(),""==term)return d.filteredOptions=d.options;d.filteredOptions=[];for(var t=0;t<d.options.length;t++){var e=d.options[t];e[d.label].toLowerCase().indexOf(term)!==-1&&d.filteredOptions.push(e)}return d.filteredOptions},d.select=function(t){if(d.multi){delete t.selectedBng;var e=d.selectedItems.indexOf(t);e>=0?(t.selectedBng=!1,d.selectedItems.splice(e,1)):(t.selectedBng=!0,d.selectedItems.push(t)),d.onSelect({option:d.selectedItems})}else d.showFilter=!1,d.selected=t,d.selected.label=t[d.label],d.onSelect({option:t})},d.selectAll=function(){for(var t=0;t<d.filteredOptions.length;t++){var e=d.filteredOptions[t],l=d.selectedItems.indexOf(e);l<0&&(d.selectedItems.push(e),e.selectedBng=!0)}d.onSelect({option:d.selectedItems})},d.clear=function(t){if(!d.disabled){d.selected=null,d.selectedItems=[],d.multi||i(!0);for(var e=0;e<d.options.length;e++)delete d.options[e].selectedBng;d.onUnselect(),t&&t.stopPropagation()}},d.$onChanges=function(t){t.options&&t.options.currentValue&&(t.options.isFirstChange()||(d.filteredOptions=t.options.currentValue)),!d.multi&&t.selected&&t.selected.currentValue&&(t.selected.isFirstChange()||(d.selected=t.selected.currentValue,d.selected.label=t.selected.currentValue[d.label]))}};l.$inject=["$element","$timeout","$scope","$window"],t.component("bngSelector",{bindings:{onSelect:"&",onUnselect:"&",options:"<",selected:"<",multi:"<",selectAllLabel:"@",clearAllLabel:"@",disabled:"<",label:"@"},templateUrl:"bng-selector.html",controller:l})}(),angular.module("bng-selector").run(["$templateCache",function(t){t.put("bng-selector.html",'<div class="bng-selector bng-selector-mhc" ng-class="{ \'disabled\': $ctrl.disabled }">\n\t<div class="bng-selector-mhc bng-selector-selected" ng-click="$ctrl.toggleFilter($event)">\n\t\t{{$ctrl.selected[$ctrl.label]}}\n\t\t<i class="bng-selector-mhc fa fa-caret-down" ng-show="! $ctrl.showFilter"></i>\n\t\t<i class="bng-selector-mhc fa fa-caret-up" ng-show="$ctrl.showFilter"></i>\n\t\t<i class="bng-selector-mhc fa fa-times" ng-show="$ctrl.selected && !$ctrl.multi"\n\t\t   ng-click="$ctrl.clear($event)"></i>\n\t</div>\n\t<div class="bng-selector-mhc bng-selector-filter" ng-show="$ctrl.showFilter">\n\t\t<div class="bng-selector-mhc bng-selector-filter-area">\n\t\t\t<input class="bng-selector-mhc bng-selector-filter-input" type="text"\n\t\t\t\t   ng-change="$ctrl.suggest()"\n\t\t\t\t   ng-model="$ctrl.term">\n\t\t\t<ul class="bng-selector-mhc">\n\t\t\t\t<li class="bng-selector-mhc" ng-show="$ctrl.multi">\n\t\t\t\t\t<button class="bng-selector-mhc btn btn-sm btn-default"\n\t\t\t\t\t\t\tng-click="$ctrl.selectAll()">\n\t\t\t\t\t\t<i class="bng-selector-mhc fa fa-check"></i> {{$ctrl.selectAllLabel}}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button class="bng-selector-mhc btn btn-sm btn-default"\n\t\t\t\t\t\t\tng-click="$ctrl.clear()">\n\t\t\t\t\t\t<i class="bng-selector-mhc fa fa-times"></i> {{$ctrl.clearAllLabel}}\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\t\t\t\t<li ng-repeat="opt in $ctrl.filteredOptions"\n\t\t\t\t\tng-click="$ctrl.select(opt)" class="bng-selector-mhc bng-selector-option">\n\t\t\t\t\t<input type="checkbox" ng-show="$ctrl.multi"\n\t\t\t\t\t\t   ng-model="opt.selectedBng" class="bng-selector-mhc" />\n\t\t\t\t\t{{opt[$ctrl.label]}}\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</div>')}]);